%-----------------------------------------------------------------------
% Job saved on 01-Dec-2023 09:20:52 by cfg_util (rev $Rev: 7345 $)
% spm SPM - SPM12 (7487)
% cfg_basicio BasicIO - Unknown
%-----------------------------------------------------------------------
matlabbatch{1}.cfg_basicio.file_dir.dir_ops.cfg_named_dir.name = 'fMRI Data';
matlabbatch{1}.cfg_basicio.file_dir.dir_ops.cfg_named_dir.dirs = {'<UNDEFINED>'};
matlabbatch{2}.cfg_basicio.file_dir.file_ops.file_fplist.dir(1) = cfg_dep('Named Directory Selector: fMRI Data(1)', substruct('.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','dirs', '{}',{1}));
matlabbatch{2}.cfg_basicio.file_dir.file_ops.file_fplist.filter = '^0.*\.nii$';
matlabbatch{2}.cfg_basicio.file_dir.file_ops.file_fplist.rec = 'FPList';
matlabbatch{3}.spm.util.exp_frames.files(1) = cfg_dep('File Selector (Batch Mode): Selected Files (^0.*\.nii$)', substruct('.','val', '{}',{2}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{3}.spm.util.exp_frames.frames = 1;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.data.presubphasemag.phase = '<UNDEFINED>';
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.data.presubphasemag.magnitude = '<UNDEFINED>';
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.et = [4.92 7.38];
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.maskbrain = 1;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.blipdir = -1;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.tert = 17.64;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.epifm = 0;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.ajm = 0;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.uflags.method = 'Mark3D';
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.uflags.fwhm = 10;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.uflags.pad = 0;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.uflags.ws = 1;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.mflags.template = '<UNDEFINED>';
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.mflags.fwhm = 5;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.mflags.nerode = 2;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.mflags.ndilate = 4;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.mflags.thresh = 0.5;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.defaults.defaultsval.mflags.reg = 0.02;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.session.epi(1) = cfg_dep('Expand image frames: Expanded filename list.', substruct('.','val', '{}',{3}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.matchvdm = 1;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.sessname = 'session';
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.writeunwarped = 0;
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.anat = '';
matlabbatch{4}.spm.tools.fieldmap.calculatevdm.subj.matchanat = 0;
matlabbatch{5}.spm.util.exp_frames.files(1) = cfg_dep('File Selector (Batch Mode): Selected Files (^0.*\.nii$)', substruct('.','val', '{}',{2}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{5}.spm.util.exp_frames.frames = Inf;
matlabbatch{6}.spm.util.imcalc.input(1) = cfg_dep('Expand image frames: Expanded filename list.', substruct('.','val', '{}',{5}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{6}.spm.util.imcalc.output = 'fmri_temporal_mean';
matlabbatch{6}.spm.util.imcalc.outdir(1) = cfg_dep('Named Directory Selector: fMRI Data(1)', substruct('.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','dirs', '{}',{1}));
matlabbatch{6}.spm.util.imcalc.expression = 'mean(X)';
matlabbatch{6}.spm.util.imcalc.var = struct('name', {}, 'value', {});
matlabbatch{6}.spm.util.imcalc.options.dmtx = 1;
matlabbatch{6}.spm.util.imcalc.options.mask = 0;
matlabbatch{6}.spm.util.imcalc.options.interp = 1;
matlabbatch{6}.spm.util.imcalc.options.dtype = 16;
matlabbatch{7}.spm.util.imcalc.input(1) = cfg_dep('Expand image frames: Expanded filename list.', substruct('.','val', '{}',{5}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{7}.spm.util.imcalc.output = 'fmri_temporal_variance';
matlabbatch{7}.spm.util.imcalc.outdir(1) = cfg_dep('Named Directory Selector: fMRI Data(1)', substruct('.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','dirs', '{}',{1}));
matlabbatch{7}.spm.util.imcalc.expression = 'var(X)';
matlabbatch{7}.spm.util.imcalc.var = struct('name', {}, 'value', {});
matlabbatch{7}.spm.util.imcalc.options.dmtx = 1;
matlabbatch{7}.spm.util.imcalc.options.mask = 0;
matlabbatch{7}.spm.util.imcalc.options.interp = 1;
matlabbatch{7}.spm.util.imcalc.options.dtype = 16;
matlabbatch{8}.spm.spatial.realignunwarp.data.scans(1) = cfg_dep('Expand image frames: Expanded filename list.', substruct('.','val', '{}',{5}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{8}.spm.spatial.realignunwarp.data.pmscan(1) = cfg_dep('Calculate VDM: Voxel displacement map (Subj 1, Session 1)', substruct('.','val', '{}',{4}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('()',{1}, '.','vdmfile', '{}',{1}));
matlabbatch{8}.spm.spatial.realignunwarp.eoptions.quality = 0.9;
matlabbatch{8}.spm.spatial.realignunwarp.eoptions.sep = 4;
matlabbatch{8}.spm.spatial.realignunwarp.eoptions.fwhm = 5;
matlabbatch{8}.spm.spatial.realignunwarp.eoptions.rtm = 0;
matlabbatch{8}.spm.spatial.realignunwarp.eoptions.einterp = 2;
matlabbatch{8}.spm.spatial.realignunwarp.eoptions.ewrap = [0 0 0];
matlabbatch{8}.spm.spatial.realignunwarp.eoptions.weight = '';
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.basfcn = [12 12];
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.regorder = 1;
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.lambda = 100000;
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.jm = 0;
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.fot = [4 5];
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.sot = [];
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.uwfwhm = 4;
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.rem = 1;
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.noi = 5;
matlabbatch{8}.spm.spatial.realignunwarp.uweoptions.expround = 'Average';
matlabbatch{8}.spm.spatial.realignunwarp.uwroptions.uwwhich = [2 1];
matlabbatch{8}.spm.spatial.realignunwarp.uwroptions.rinterp = 4;
matlabbatch{8}.spm.spatial.realignunwarp.uwroptions.wrap = [0 0 0];
matlabbatch{8}.spm.spatial.realignunwarp.uwroptions.mask = 1;
matlabbatch{8}.spm.spatial.realignunwarp.uwroptions.prefix = 'u';
matlabbatch{9}.cfg_basicio.file_dir.file_ops.cfg_named_file.name = 'Structural T1 Reference';
matlabbatch{9}.cfg_basicio.file_dir.file_ops.cfg_named_file.files = {'<UNDEFINED>'};
matlabbatch{10}.spm.spatial.coreg.estimate.ref(1) = cfg_dep('Named File Selector: Structural T1 Reference(1) - Files', substruct('.','val', '{}',{9}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files', '{}',{1}));
matlabbatch{10}.spm.spatial.coreg.estimate.source(1) = cfg_dep('Realign & Unwarp: Unwarped Mean Image', substruct('.','val', '{}',{8}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','meanuwr'));
matlabbatch{10}.spm.spatial.coreg.estimate.other(1) = cfg_dep('Realign & Unwarp: Unwarped Images (Sess 1)', substruct('.','val', '{}',{8}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','sess', '()',{1}, '.','uwrfiles'));
matlabbatch{10}.spm.spatial.coreg.estimate.eoptions.cost_fun = 'nmi';
matlabbatch{10}.spm.spatial.coreg.estimate.eoptions.sep = [4 2];
matlabbatch{10}.spm.spatial.coreg.estimate.eoptions.tol = [0.02 0.02 0.02 0.001 0.001 0.001 0.01 0.01 0.01 0.001 0.001 0.001];
matlabbatch{10}.spm.spatial.coreg.estimate.eoptions.fwhm = [7 7];
matlabbatch{11}.spm.spatial.smooth.data(1) = cfg_dep('Coregister: Estimate: Coregistered Images', substruct('.','val', '{}',{10}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','cfiles'));
matlabbatch{11}.spm.spatial.smooth.fwhm = [6 6 6];
matlabbatch{11}.spm.spatial.smooth.dtype = 0;
matlabbatch{11}.spm.spatial.smooth.im = 0;
matlabbatch{11}.spm.spatial.smooth.prefix = 's';
matlabbatch{12}.cfg_basicio.file_dir.file_ops.file_fplist.dir(1) = cfg_dep('Named Directory Selector: fMRI Data(1)', substruct('.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','dirs', '{}',{1}));
matlabbatch{12}.cfg_basicio.file_dir.file_ops.file_fplist.filter = '^su';
matlabbatch{12}.cfg_basicio.file_dir.file_ops.file_fplist.rec = 'FPList';
matlabbatch{13}.cfg_basicio.file_dir.dir_ops.cfg_named_dir.name = 'fMRI Results';
matlabbatch{13}.cfg_basicio.file_dir.dir_ops.cfg_named_dir.dirs = {'<UNDEFINED>'};
matlabbatch{14}.spm.stats.fmri_spec.dir(1) = cfg_dep('Named Directory Selector: fMRI Results(1)', substruct('.','val', '{}',{13}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','dirs', '{}',{1}));
matlabbatch{14}.spm.stats.fmri_spec.timing.units = 'secs';
matlabbatch{14}.spm.stats.fmri_spec.timing.RT = 2.67;
matlabbatch{14}.spm.stats.fmri_spec.timing.fmri_t = 16;
matlabbatch{14}.spm.stats.fmri_spec.timing.fmri_t0 = 8;
matlabbatch{14}.spm.stats.fmri_spec.sess.scans(1) = cfg_dep('File Selector (Batch Mode): Selected Files (^su)', substruct('.','val', '{}',{12}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{14}.spm.stats.fmri_spec.sess.cond.name = 'Visual';
matlabbatch{14}.spm.stats.fmri_spec.sess.cond.onset = [15.6
                                                       46.8
                                                       78
                                                       109.2
                                                       140.4
                                                       171.6
                                                       202.8
                                                       234
                                                       265.2];
matlabbatch{14}.spm.stats.fmri_spec.sess.cond.duration = 15.6;
matlabbatch{14}.spm.stats.fmri_spec.sess.cond.tmod = 0;
matlabbatch{14}.spm.stats.fmri_spec.sess.cond.pmod = struct('name', {}, 'param', {}, 'poly', {});
matlabbatch{14}.spm.stats.fmri_spec.sess.cond.orth = 1;
matlabbatch{14}.spm.stats.fmri_spec.sess.multi = {''};
matlabbatch{14}.spm.stats.fmri_spec.sess.regress = struct('name', {}, 'val', {});
matlabbatch{14}.spm.stats.fmri_spec.sess.multi_reg(1) = cfg_dep('Realign & Unwarp: Realignment Param File (Sess 1)', substruct('.','val', '{}',{8}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','sess', '()',{1}, '.','rpfile'));
matlabbatch{14}.spm.stats.fmri_spec.sess.hpf = 128;
matlabbatch{14}.spm.stats.fmri_spec.fact = struct('name', {}, 'levels', {});
matlabbatch{14}.spm.stats.fmri_spec.bases.hrf.derivs = [0 0];
matlabbatch{14}.spm.stats.fmri_spec.volt = 1;
matlabbatch{14}.spm.stats.fmri_spec.global = 'None';
matlabbatch{14}.spm.stats.fmri_spec.mthresh = 0.8;
matlabbatch{14}.spm.stats.fmri_spec.mask = {''};
matlabbatch{14}.spm.stats.fmri_spec.cvi = 'AR(1)';
matlabbatch{15}.spm.stats.fmri_est.spmmat(1) = cfg_dep('fMRI model specification: SPM.mat File', substruct('.','val', '{}',{14}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','spmmat'));
matlabbatch{15}.spm.stats.fmri_est.write_residuals = 0;
matlabbatch{15}.spm.stats.fmri_est.method.Classical = 1;
matlabbatch{16}.spm.stats.con.spmmat(1) = cfg_dep('Model estimation: SPM.mat File', substruct('.','val', '{}',{15}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','spmmat'));
matlabbatch{16}.spm.stats.con.consess{1}.tcon.name = 'Visual';
matlabbatch{16}.spm.stats.con.consess{1}.tcon.weights = 1;
matlabbatch{16}.spm.stats.con.consess{1}.tcon.sessrep = 'none';
matlabbatch{16}.spm.stats.con.delete = 0;
matlabbatch{17}.cfg_basicio.file_dir.file_ops.file_fplist.dir(1) = cfg_dep('Named Directory Selector: fMRI Results(1)', substruct('.','val', '{}',{13}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','dirs', '{}',{1}));
matlabbatch{17}.cfg_basicio.file_dir.file_ops.file_fplist.filter = '^spmT';
matlabbatch{17}.cfg_basicio.file_dir.file_ops.file_fplist.rec = 'FPList';
matlabbatch{18}.spm.spatial.coreg.write.ref(1) = cfg_dep('Named File Selector: Structural T1 Reference(1) - Files', substruct('.','val', '{}',{9}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files', '{}',{1}));
matlabbatch{18}.spm.spatial.coreg.write.source(1) = cfg_dep('File Selector (Batch Mode): Selected Files (^spmT)', substruct('.','val', '{}',{17}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{18}.spm.spatial.coreg.write.roptions.interp = 1;
matlabbatch{18}.spm.spatial.coreg.write.roptions.wrap = [0 0 0];
matlabbatch{18}.spm.spatial.coreg.write.roptions.mask = 0;
matlabbatch{18}.spm.spatial.coreg.write.roptions.prefix = 'r';
matlabbatch{19}.cfg_basicio.file_dir.file_ops.file_fplist.dir(1) = cfg_dep('Named Directory Selector: fMRI Data(1)', substruct('.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','dirs', '{}',{1}));
matlabbatch{19}.cfg_basicio.file_dir.file_ops.file_fplist.filter = '^meanu';
matlabbatch{19}.cfg_basicio.file_dir.file_ops.file_fplist.rec = 'FPList';
matlabbatch{20}.spm.spatial.coreg.write.ref(1) = cfg_dep('Named File Selector: Structural T1 Reference(1) - Files', substruct('.','val', '{}',{9}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files', '{}',{1}));
matlabbatch{20}.spm.spatial.coreg.write.source(1) = cfg_dep('File Selector (Batch Mode): Selected Files (^meanu)', substruct('.','val', '{}',{19}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files'));
matlabbatch{20}.spm.spatial.coreg.write.roptions.interp = 1;
matlabbatch{20}.spm.spatial.coreg.write.roptions.wrap = [0 0 0];
matlabbatch{20}.spm.spatial.coreg.write.roptions.mask = 0;
matlabbatch{20}.spm.spatial.coreg.write.roptions.prefix = 'r';
matlabbatch{21}.spm.spatial.coreg.estwrite.ref(1) = cfg_dep('Named File Selector: Structural T1 Reference(1) - Files', substruct('.','val', '{}',{9}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files', '{}',{1}));
matlabbatch{21}.spm.spatial.coreg.estwrite.source = '<UNDEFINED>';
matlabbatch{21}.spm.spatial.coreg.estwrite.other = {''};
matlabbatch{21}.spm.spatial.coreg.estwrite.eoptions.cost_fun = 'nmi';
matlabbatch{21}.spm.spatial.coreg.estwrite.eoptions.sep = [4 2];
matlabbatch{21}.spm.spatial.coreg.estwrite.eoptions.tol = [0.02 0.02 0.02 0.001 0.001 0.001 0.01 0.01 0.01 0.001 0.001 0.001];
matlabbatch{21}.spm.spatial.coreg.estwrite.eoptions.fwhm = [7 7];
matlabbatch{21}.spm.spatial.coreg.estwrite.roptions.interp = 4;
matlabbatch{21}.spm.spatial.coreg.estwrite.roptions.wrap = [0 0 0];
matlabbatch{21}.spm.spatial.coreg.estwrite.roptions.mask = 0;
matlabbatch{21}.spm.spatial.coreg.estwrite.roptions.prefix = 'r';
matlabbatch{22}.spm.spatial.coreg.estwrite.ref(1) = cfg_dep('Named File Selector: Structural T1 Reference(1) - Files', substruct('.','val', '{}',{9}, '.','val', '{}',{1}, '.','val', '{}',{1}, '.','val', '{}',{1}), substruct('.','files', '{}',{1}));
matlabbatch{22}.spm.spatial.coreg.estwrite.source = '<UNDEFINED>';
matlabbatch{22}.spm.spatial.coreg.estwrite.other = {''};
matlabbatch{22}.spm.spatial.coreg.estwrite.eoptions.cost_fun = 'nmi';
matlabbatch{22}.spm.spatial.coreg.estwrite.eoptions.sep = [4 2];
matlabbatch{22}.spm.spatial.coreg.estwrite.eoptions.tol = [0.02 0.02 0.02 0.001 0.001 0.001 0.01 0.01 0.01 0.001 0.001 0.001];
matlabbatch{22}.spm.spatial.coreg.estwrite.eoptions.fwhm = [7 7];
matlabbatch{22}.spm.spatial.coreg.estwrite.roptions.interp = 4;
matlabbatch{22}.spm.spatial.coreg.estwrite.roptions.wrap = [0 0 0];
matlabbatch{22}.spm.spatial.coreg.estwrite.roptions.mask = 0;
matlabbatch{22}.spm.spatial.coreg.estwrite.roptions.prefix = 'r';
